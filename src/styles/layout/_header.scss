@use '../abstracts/variables' as var;
@use '../abstracts/functions' as func;
@use '../abstracts/mixins' as mix;

.nav {
    // Hamburger Icon Wrapper
    &__hamburger {
        order: 2;

        // On medium screens, show before logo
        @include mix.respond('md') {
            order: 1;
        }

        // Hide on extra-large screens (desktop)
        @include mix.respond('xl') {
            display: none;
        }

        // Hamburger button styles
        &-icon {
            font-size: func.pxToRem(47px);
            display: inline-block;
            background-color: transparent;
            border: none;
            cursor: pointer;
        }
    }

    // Navigation Links Container
    &__links {
        display: none; // Hidden by default (mobile)
        order: 3;

        // Unordered list inside nav links
        ul {
            padding: 0;

            // Show list as horizontal flex on extra-large screens
            @include mix.respond('xl') {
                @include mix.flexbox();
                gap: func.pxToRem(24px);
            }
        }

        // List item styles across breakpoints
        li {
            padding: func.pxToRem(20px) func.pxToRem(15px);

            @include mix.respond('md') {
                padding: func.pxToRem(30px) func.pxToRem(50px);
            }

            @include mix.respond('lg') {
                padding: func.pxToRem(30px) func.pxToRem(50px);
            }

            @include mix.respond('xl') {
                padding: func.pxToRem(20px) func.pxToRem(20px);
            }
        }

        // Display nav links horizontally on desktop
        @include mix.respond('xl') {
            @include mix.flexbox();
            gap: func.pxToRem(24px);
        }
    }

    // Container for all nav sections
    &__container {
        @include mix.flexbox();
        padding: func.pxToRem(34px) func.pxToRem(18px);

        // Small screen padding
        @include mix.respond('sm') {
            padding: func.pxToRem(30px) func.pxToRem(64px);
        }

        // Large and XL screen padding
        @include mix.respond('lg') {
            padding: func.pxToRem(30px) func.pxToRem(64px);
        }

        @include mix.respond('xl') {
            padding: func.pxToRem(58px) func.pxToRem(64px);
        }
    }

    // Navigation Buttons (Log In / Sign Up)
    &__buttons {
        @include mix.flexbox();
        flex-direction: column;
        gap: func.pxToRem(5px);
        margin-right: func.pxToRem(50px);
        order: 4;
        display: none; // Hidden by default (mobile)

        // Show and adjust layout on medium screens
        @include mix.respond('md') {
            @include mix.flexbox();
            margin-right: func.pxToRem(10px);
        }

        // Add padding on extra-large screens
        @include mix.respond('xl') {
            padding-right: func.pxToRem(40px);
        }
    }

    // Close (X) button container
    &__close {
        // Hide close button on extra-large screens
        @include mix.respond('xl') {
            display: none;
        }

        // Close icon button styling
        &--icon {
            padding: 0 func.pxToRem(15px);
            background-color: transparent;
            border: none;
            cursor: pointer;
            position: relative;
            height: 24px;
            width: 24px;

            // Cross lines using pseudo-elements
            &::before,
            &::after {
                content: '';
                position: absolute;
                top: 50%;
                left: 50%;
                height: 24px;
                width: 4px;
                background-color: var.$black;
                transform-origin: center;
                transform: translate(-50%, -50%) rotate(-45deg);
            }

            &::before {
                transform: translate(-50%, -50%) rotate(45deg);
            }
        }
    }

    // Logo styles
    &__logo {
        order: 1;

        // Center logo on medium screens
        @include mix.respond('md') {
            margin-left: func.pxToRem(180px);
            order: 2;
        }

        // Shift logo to the left on large screens
        @include mix.respond('lg') {
            margin-left: 0;
            padding-left: func.pxToRem(80px);
        }
    }
}

// Mobile menu open state
.open {
    display: block;
    position: fixed;
    right: 0;
    top: 0;
    background-color: var.$white;
    width: func.pxToRem(200px);
    height: 100vh;
    box-shadow: inset 0 10px 10px var.$border-color;
    padding: func.pxToRem(30px) func.pxToRem(15px);

    // Expand menu leftwards and increase width on medium screens
    @include mix.respond('md') {
        left: 0;
        width: func.pxToRem(300px);
    }

    // Show nav list inside open menu
    ul {
        display: block;
    }

    // Show nav buttons below open menu
    + .nav__buttons {
        display: flex;
        position: fixed;
        top: 350px;
        right: 20px;
        background-color: var.$white;

        // Return to normal flow on medium screens
        @include mix.respond('md') {
            position: inherit;
        }
    }
}
