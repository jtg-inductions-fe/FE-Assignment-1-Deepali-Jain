@use '../abstracts/variables' as var;
@use '../abstracts/functions' as func;
@use '../abstracts/mixins' as mix;

.nav {
    // Hamburger Icon Wrapper
    &__hamburger {
        order: 2;

        // On medium screens, show before logo
        @include mix.respond('md') {
            order: 1;
        }

        // Hide on extra-large screens (desktop)
        @include mix.respond('xl') {
            display: none;
        }

        // Hamburger button styles
        &-icon {
            font-size: func.pxToRem(47px);
            display: inline-block;
            background-color: transparent;
            border: none;
            cursor: pointer;
        }
    }

    // Navigation Links Container
    &__links {
        display: none;
        order: 3;

        // Display nav links horizontally on desktop
        @include mix.respond('xl') {
            @include mix.flexbox();
            gap: func.pxToRem(24px);
        }
    }

    // Navigation List
    &__list {
        padding: 0;

        // Show list as horizontal flex on extra-large screens
        @include mix.respond('xl') {
            @include mix.flexbox();
            gap: func.pxToRem(24px);
        }

        // Navigation list items
        &-item {
            padding: func.pxToRem(20px) func.pxToRem(15px);

            @include mix.respond('md') {
                padding: func.pxToRem(30px) func.pxToRem(50px);
            }

            @include mix.respond('lg') {
                padding: func.pxToRem(30px) func.pxToRem(50px);
            }

            @include mix.respond('xl') {
                padding: func.pxToRem(20px) func.pxToRem(20px);
            }
        }
    }

    // Container for all nav sections
    &__container {
        @include mix.flexbox();
        padding: func.pxToRem(34px) func.pxToRem(18px);

        // Small screen padding
        @include mix.respond('sm') {
            padding: func.pxToRem(30px) func.pxToRem(64px);
        }

        // Large and XL screen padding
        @include mix.respond('lg') {
            padding: func.pxToRem(30px) func.pxToRem(64px);
        }

        @include mix.respond('xl') {
            padding: func.pxToRem(58px) func.pxToRem(64px);
        }
    }

    // Navigation Buttons (Log In / Sign Up)
    &__buttons {
        @include mix.flexbox();
        flex-direction: column;
        gap: func.pxToRem(5px);
        margin-right: func.pxToRem(50px);
        order: 4;
        display: none;

        // Show and adjust layout on medium screens
        @include mix.respond('md') {
            @include mix.flexbox();
            margin-right: func.pxToRem(10px);
        }

        // Add padding on extra-large screens
        @include mix.respond('xl') {
            padding-right: func.pxToRem(40px);
        }
    }

    // Close (X) button container
    &__close {
        // Hide close button on extra-large screens
        @include mix.respond('xl') {
            display: none;
        }

        // Close icon button styling
        &--icon {
            padding: 0 func.pxToRem(15px);
            background-color: transparent;
            border: none;
            cursor: pointer;
            position: relative;
            height: 24px;
            width: 24px;

            // Cross lines using pseudo-elements
            &::before,
            &::after {
                content: '';
                position: absolute;
                top: 50%;
                left: 50%;
                height: 24px;
                width: 4px;
                background-color: var.$black;
                transform-origin: center;
                transform: translate(-50%, -50%) rotate(-45deg);
            }

            &::before {
                transform: translate(-50%, -50%) rotate(45deg);
            }
        }
    }

    // Logo styles
    &__logo {
        order: 1;

        // Center logo on medium screens
        @include mix.respond('md') {
            margin-left: func.pxToRem(180px);
            order: 2;
        }

        // Shift logo to the left on large screens
        @include mix.respond('lg') {
            margin-left: 0;
            padding-left: func.pxToRem(80px);
        }
    }

    // Mobile menu open state
    &--open {
        display: block;
        position: fixed;
        right: 0;
        top: 0;
        background: linear-gradient(135deg, var.$white, var.$off-white);
        width: func.pxToRem(250px);
        height: 100vh;
        box-shadow: -8px 0 24px rgba(0, 0, 0, 0.1);
        border-top-left-radius: func.pxToRem(20px);
        border-bottom-left-radius: func.pxToRem(20px);
        padding: func.pxToRem(30px) func.pxToRem(20px);
        transition:
            transform 0.4s ease-in-out,
            opacity 0.3s ease-in-out;
        transform: translateX(0);
        opacity: 1;
        z-index: 1;

        // Expand menu leftwards and increase width on medium screens
        @include mix.respond('md') {
            left: 0;
            width: func.pxToRem(300px);
        }
        @include mix.respond('lg') {
            width: func.pxToRem(400px);
        }

        // Show nav list inside open menu
        .nav__list {
            @include mix.flexbox($direction: column);
            gap: func.pxToRem(30px);
            margin-top: func.pxToRem(70px);
            text-align: center;
            &-item {
                width: 100%;
                border-radius: func.pxToRem(12px);
                padding: func.pxToRem(12px) func.pxToRem(18px);
                transition:
                    background-color 0.3s,
                    transform 0.3s;
                a {
                    text-decoration: none;
                    color: var.$black;
                    font-weight: 600;
                    font-size: func.pxToRem(16px);

                    &:focus {
                        color: var.$primary-color;
                    }
                }
            }
        }

        // Show nav buttons below open menu
        + .nav__buttons {
            display: flex;
            position: fixed;
            bottom: 20px;
            right: 30px;
            z-index: 2;
            gap: func.pxToRem(12px);
            // Return to normal flow on medium screens
            @include mix.respond('md') {
                position: inherit;
            }
        }

        // Close button styles
        .nav__close--icon {
            background: transparent;
            border: none;
            font-size: func.pxToRem(28px);
            cursor: pointer;
            color: var.$black;
            position: absolute;
            top: func.pxToRem(20px);
            right: func.pxToRem(20px);
            transition: color 0.3s;
        }
    }
}

body.no-scroll {
    overflow: hidden;
}
